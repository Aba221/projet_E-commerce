<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>All Products - Sunu Mbay</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,200&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script src="rellax.min.js"></script>
    <script src="cart.js"></script>
    <script>
    if (typeof(Storage) === "undefined") {
      alert("Your browser does not support Local Storage. Please upgrade your browser.");
    }
    </script>

    <style>
      body{
        background:radial-gradient(#fff, #1a81a0) ;
      }
      button{
        cursor: pointer;
      }
    </style>

  </head>
  <body>
    <div class="container">
      <div class="navbar">
        <div class="logo">
          <a href="index.html">
            <img src="images/logo1.png" alt="" width="135px"
          /></a>
        </div>
        <nav>
          <ul id="MenuItems">
            <li><a href="index.html">Accueil</a></li>
            <li><a href="products.html">Produits</a></li>
            <li><a href="">A Propos</a></li>
            <li><a href="">Contact</a></li>
            <li><a href="account.html">Compte</a></li>
            <!-- TODo: 22:20 -->
          </ul>
        </nav>
        <a href="cart.html"><img src="images/cart.png" alt="" width="30px" height="30px"/></a>
        <img src="images/menu.png" alt="" class="menu-icon" onclick="menutoggle()"/>
        <span id="cart-item-count">0</span>
      </div>
    </div>

    <!-- Single Products Detail -->
    <div class="small-container single-product">
      <div class="row">
        <div class="col-2">
          <img src="images/galery-5.jpg" width="100%" id="ProductImg" />

          <div class="small-img-row">
            <div class="small-img-col">
              <img src="images/galery-5.jpg" class="small-img" />
            </div>
            <div class="small-img-col">
              <img src="images/galery-6.jpg" class="small-img" />
            </div>
            <div class="small-img-col">
              <img src="images/galery-7.jpg" class="small-img" />
            </div>
            <div class="small-img-col">
              <img src="images/galery-8.jpg" class="small-img" />
            </div>
          </div>
        </div>
        <div class="col-2">
          <p>Accueil/ Légumes</p>
          <h2>Tomates</h2>
          <h4>Prix: 500 FCFA/Kg</h4>
          
          <input type="number" value="1" />
          <button onclick="addToCart('Tomates', 500)">Ajouter au Panier</button><br>
          <button onclick="toggleProductDetails('tomates')" style="background-color: #1ea01a;">Afficher les Caractéristiques</button><br></br>
          <div id="tomatesDetails" style="display: none;">
            <h3>Détails du Produit</h3><br/>
            <ul>
              <li>Couleur : Rouge</li>
              <li>Origine : Locale</li>
              <li>Poids moyen : 150g</li>
              <li>Goût : Sucré et savoureux</li>
              <li>Texture : Ferme et juteuse</li>
            </ul>
          </div>
          <br>
          <p>
            Les tomates sont des fruits savoureux et juteux qui sont largement utilisés dans la cuisine.<br>
            Elles sont polyvalentes et peuvent être utilisées dans les salades, les sauces, les soupes et bien d'autres plats délicieux.
          </p>
        </div>
      </div>
    </div>
    
    <!-- Title -->
    <div class="small-container">
      <div class="row row-2">
        <h2>Produits Similaires</h2>
        <a href="products.html"><p>Voir Plus</p></a>
      </div>
    </div>

    <!-- Similar Products -->

    <div class="small-container">
      <div class="row">
        <div class="col-4">
          <img src="images/produit-1.png" alt="" />
          <h4>Haricots Verts</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>400 FCFA</p>
        </div>

        <div class="col-4">
          <img src="images/produit-16.png" alt="" />
          <h4>Petits Pois</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>650 FCFA</p>
        </div>

        <div class="col-4">
          <img src="images/produit-12.png" alt="" />
          <h4>Carottes</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
          </div>
          <p>2000 FCFA</p>
        </div>
        <div class="col-4">
          <img src="images/produit-13.jpg" alt="" />
          <h4>Oignons</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>800 FCFA</p>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <div class="container">
        <div class="row">
          <div class="footer-col-1">
            <h3>Download Our App</h3>
            <p>
              Download App for Android <br />
              and ios mobile phone
            </p>
            <div class="app-logo">
              <img src="images/play-store.png" alt="" />
              <img src="images/app-store.png" alt="" />
            </div>
          </div>
          <div class="footer-col-2">
            <img src="images/Logo2.png" alt="" />
            <p>
              Nourrissez votre santé avec la puissance <br /> des produits agricoles !
            </p>
          </div>
          <div class="footer-col-3">
            <h3>Useful Links</h3>
            <ul>
              <li>Coupons</li>
              <li>Blog Post</li>
              <li>Return Policy</li>
              <li>Join Affiliate</li>
            </ul>
          </div>

          <div class="footer-col-4">
            <h3>Follow us</h3>
            <ul>
              <li>Facebook</li>
              <li>Twitter</li>
              <li>Instagram</li>
              <li>YouTube</li>
            </ul>
          </div>
        </div>
        <hr />
        <p class="copyright">Copyright 2023 - Conceptus</p>
      </div>
    </div>
    <!-- JS for Toggle menu -->
    <script>
      var MenuItems = document.getElementById("MenuItems");

      MenuItems.style.maxHeight = "0px";

      function menutoggle() {
        if (MenuItems.style.maxHeight == "0px") {
          MenuItems.style.maxHeight = "200px";
        } else {
          MenuItems.style.maxHeight = "0px";
        }
      }
    </script>

    <!-- js for product gallery -->
    <script>
      var ProductImg = document.getElementById("ProductImg");
      var smallImg = document.getElementsByClassName("small-img");
      smallImg[0].onclick = function () {
        ProductImg.src = smallImg[0].src;
      };
      smallImg[1].onclick = function () {
        ProductImg.src = smallImg[1].src;
      };
      smallImg[2].onclick = function () {
        ProductImg.src = smallImg[2].src;
      };
      smallImg[3].onclick = function () {
        ProductImg.src = smallImg[3].src;
      };

      function toggleProductDetails(product) {
        const productDetails = document.getElementById(`${product}Details`);
        if (productDetails.style.display === 'none') {
          productDetails.style.display = 'block';
        } else {
          productDetails.style.display = 'none';
        }
      } 

      function addToCart(productName, price) { 
        // Récupérer des articles de panier existants à partir du stockage local
        let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

        let existingItem = cartItems.find(item => item.name === productName);

        if (existingItem) {
          // If the product exists in the cart, update its quantity and total price
          existingItem.quantity += 1;
          existingItem.totalPrice = existingItem.quantity * price;
        } else {
          // If the product is not in the cart, add it with quantity and total price
          cartItems.push({
            name: productName,
            price: price,
            quantity: 1,
            totalPrice: price
          });
        }

        // Enregistrez le tableau cartItems mis à jour dans le stockage local
        localStorage.setItem('cartItems', JSON.stringify(cartItems));

        // Mettre à jour le nombre d'articles du panier dans le logo
        updateCartItemCount();
        
        showNotification(`${productName} a été ajouté au panier!`);
      }

      // Function to show the notification message
      function showNotification(message) {
        let notification = document.createElement('div');
        notification.className = 'notification';
        notification.textContent = message;
        document.body.appendChild(notification);

        // Set a timeout to remove the message after 3 seconds
        setTimeout(() => {
          notification.remove();
        }, 3000);
      }

      // Fonction pour mettre à jour le nombre d'articles du panier dans le logo
      function updateCartItemCount() {
        let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
        let cartItemCount = cartItems.length;
        document.getElementById('cart-item-count').innerText = cartItemCount.toString();
      }

      // Appel de la fonction updateCartItemCount lors du chargement de la page
      document.addEventListener('DOMContentLoaded', updateCartItemCount);

    </script>
  </body>
</html>
