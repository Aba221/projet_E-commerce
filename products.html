<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Products - Sunu Mbay</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,200&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  <style>
    #MenuItems li a {
      color: #030303; 
    }
    .footer-col-3 li a,
    .social-links li a {
      color:#fffefe;
    }
    p,
    h4{
      color: #030303;
      text-align: center;
    }
    .rating{
      text-align: center;
    }

  </style>
  <script src="cart.js"></script>
  
  </head>
  <body style="background: radial-gradient(circle, #e2e0e0, #24bd69);">
    <div class="container">
      <div class="navbar">
        <div class="logo">
          <a href="index.html">
            <img src="images/logo1.png" alt="" width="125px"
          /></a>
        </div>
        <nav>
          <ul id="MenuItems">
            <li><a href="index.html">Accueil</a></li>
            <li><a href="products.html">Produits</a></li>
            <li><a href="about.html">A Propos</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="account.html">Compte</a></li>
            <!-- TODo: 22:20 -->
          </ul>
        </nav>
        <a href="cart.html"><img src="images/cart.png" alt="" width="30px" height="30px"/></a>
        <img src="images/menu.png" alt="" class="menu-icon" onclick="menutoggle()">
        <span id="cart-item-count">0</span>
      </div>
    </div>

    <div class="small-container">
      <div class="row row-2">
        <h2>Tous les Produits</h2>
        <select name="sort-select" id="sort-select">
          <option value="default">Tri par défaut</option>
          <option value="price">Tri par Prix</option>
          <option value="popularity">Tri par Popularité</option>
          <option value="rating">Tri par Notation</option>
        </select>
      </div>

      <div class="products-container" id="products-container">
      <div class="row">
        <div class="col-4 product-item" data-page="1" data-popularity="0"> <a href="product-details.html">
          <img src="images/produit-1.png" alt="" /> </a>
          <h4>Haricots Verts</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>400 FCFA </p>
        </div>

        <div class="col-4 product-item" data-page="1" data-popularity="0"> <a href="product-details-tomate.html">
          <img src="images/produit-2.png" alt="" /> </a>
          <h4>Tomates</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>600 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="1" data-popularity="0"> <a href="product-details-lait.html">
          <img src="images/produit-3.png" alt="" /></a>
          <h4>Lait de Vache</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
          </div>
          <p>1000 FCFA</p>
        </div>
        <div class="col-4 product-item" data-page="1" data-popularity="0"> <a href="product-details-poulets.html">
          <img src="images/produit-4.png" alt="" /></a>
          <h4>Poulets</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>2500 FCFA</p>
        </div>
      </div>
      <div class="row">
        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details-viande-de-boeuf.html">
          <img src="images/produit-5.png" alt="" /></a>
          <h4>Viande de Boeuf</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>3800 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details-nxdecajou.html">
          <img src="images/produit-6.png" alt="" /></a>
          <h4>Noix de Cajou</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>4800 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details-papaye.html">
          <img src="images/produit-7.png" alt="" /></a>
          <h4>Papayes</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
          </div>
          <p>1300 FCFA</p>
        </div>
        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details-oeufsdepoule.html">
          <img src="images/produit-8.png" alt="" /></a>
          <h4>Oeufs de Poules</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>3000 FCFA</p>
        </div>
      </div>
      <div class="row">
        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details-maïs.html">
          <img src="images/produit-9.png" alt="" /></a>
          <h4>Maïs</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>700 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details-maad.html">
          <img src="images/produit-10.png" alt="" /></a>
          <h4>Maadd</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>1200 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details-bouye.html">
          <img src="images/produit-11.png" alt="" /></a>
          <h4>Bouye</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
          </div>
          <p>1300 FCFA</p>
        </div>
        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details-carotte.html">
          <img src="images/produit-12.png" alt="" /></a>
          <h4>Carottes</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>500 FCFA</p>
        </div>
      </div>
      <div class="row">
        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details-oignon.html">
          <img src="images/produit-13.jpg" alt="" /></a>
          <h4>Oignons</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>800 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details-sesame.html">
          <img src="images/produit-14.jpg" alt="" /></a>
          <h4>Sesame</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>800 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-15.png" alt="" /></a>
          <h4>Haricots Blancs</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
          </div>
          <p>750 FCFA</p>
        </div>
        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-16.png" alt="" /></a>
          <h4>Petits Pois</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>650 FCFA</p>
        </div>
      </div>
      <div class="row">
        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-17.jpg" alt="" /></a>
          <h4>Niébé</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>550 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-18.jpg" alt="" /></a>
          <h4>Lentilles</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>850 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-19.png" alt="" /></a>
          <h4>Viande de Mouton</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
          </div>
          <p>4000 FCFA</p>
        </div>
        <div class="col-4 product-item" data-page="1" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-20.png" alt="" /></a>
          <h4>Bissap</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>1300 FCFA</p>
        </div>
      </div>
      <div class="row">
        <div class="col-4 product-item" data-page="2" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-21.png" alt="" /></a>
          <h4>Pêche</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>1800 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="2" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-22.png" alt="" /></a>
          <h4>Fruit de la passion</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>2000 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="2" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-23.png" alt="" /></a>
          <h4>Framboises</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
          </div>
          <p>1750 FCFA</p>
        </div>
        <div class="col-4 product-item" data-page="2" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-24.png" alt="" /></a>
          <h4>Pastèque</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>2200 FCFA</p>
        </div>
      </div>

      <div class="row">
        <div class="col-4 product-item" data-page="2" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-25.png" alt="" /></a>
          <h4>Limon</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>600 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="2" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-26.png" alt="" /></a>
          <h4>Gombo</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>450 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="2" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-27.png" alt="" /></a>
          <h4>Pomme de terre</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
          </div>
          <p>900 FCFA</p>
        </div>
        <div class="col-4 product-item" data-page="2" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-28.png" alt="" /></a>
          <h4>Chou</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>650 FCFA</p>
        </div>
      </div>

      <div class="row">
        <div class="col-4 product-item" data-page="2" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-29.png" alt="" /></a>
          <h4>Semoule de blé (Moukhamsa)</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>550 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="2" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-30.jpg" alt="" /></a>
          <h4>Couscous de Mil (Thiéré)</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>400 FCFA</p>
        </div>

        <div class="col-4 product-item" data-page="2" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-31.png" alt="" /></a>
          <h4>Riz local</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-half-o"></i>
          </div>
          <p>400 FCFA</p>
        </div>
        <div class="col-4 product-item" data-page="2" data-popularity="0"><a href="product-details.html">
          <img src="images/produit-32.jpg" alt="" /></a>
          <h4>Pois chiches</h4>
          <div class="rating">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star-o"></i>
          </div>
          <p>500 FCFA</p>
        </div>
      </div>
      </div>
      

      <div class="pagination-container">  
       <div class="page-btn">
         <span onclick="previousPage()">&#8592;</span>
         <span onclick="goToPage(1)">1</span>
         <span onclick="goToPage(2)">2</span>
         <!--<span onclick="goToPage(3)">3</span>
         <span onclick="goToPage(4)">4</span> -->
         <span onclick="nextPage()">&#8594;</span>
       </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <div class="container">
        <div class="row">
          <div class="footer-col-1">
            <h3>Download Our App</h3>
            <p>
              Download App for Android <br />
              and ios mobile phone
            </p>
            <div class="app-logo">
              <img src="images/play-store.png" alt="" />
              <img src="images/app-store.png" alt="" />
            </div>
          </div>
          <div class="footer-col-2">
            <img src="images/Logo2.png" alt="" />
            <p>
              Nourrissez votre santé avec la puissance <br /> des produits agricoles !
            </p>
          </div>
          <div class="footer-col-3">
            <h3>Liens Utiles</h3>
            <ul>
              <li><a href="index.html">Accueil</a></li>
              <li><a href="products.html">Produits</a></li>
              <li><a href="about.html">A Propos</a></li>
              <li><a href="contact.html">Contact</a></li>
            </ul>
          </div>

          <div class="footer-col-4">
            <h3>Suivez-Nous</h3>
            <ul class="social-links">
              <li><a href="#">Facebook</a></li>
              <li><a href="#">Twitter</a></li>
              <li><a href="#">Instagram</a></li>
              <li><a href="#">YouTube</a></li>
            </ul>
          </div>
        </div>
        <hr />
        <p class="copyright">Copyright 2023 - Conceptus</p>
      </div>
    </div>
    <!-- JS for Toggle menu -->
    <script>
      var MenuItems = document.getElementById("MenuItems");

      MenuItems.style.maxHeight = "0px";

      function menutoggle() {
        if (MenuItems.style.maxHeight == "0px") {
          MenuItems.style.maxHeight = "200px";
        } else {
          MenuItems.style.maxHeight = "0px";
        }
      }
      var currentPage = 1;
      var productsPerPage = 12;
      var totalPages = Math.ceil(document.getElementsByClassName('product-item').length / productsPerPage);

      function previousPage() {
        if (currentPage > 1) {
          currentPage--;
          updatePagination();
        }
      }

      function nextPage() {
        if (currentPage < totalPages) {
          currentPage++;
          updatePagination();
        }
      }

      function goToPage(page) {
        currentPage = page;
        updatePagination();
      }

      function updatePagination() {
        // Mettez à jour l'apparence de la pagination en fonction de la page actuelle
        var spans = document.getElementsByClassName("pagination-container")[0].getElementsByTagName("span");
        for (var i = 1; i <= totalPages; i++) {
          if (i === currentPage) {
            spans[i-1].classList.add("active");
          } else {
            spans[i-1].classList.remove("active");
          }
        }

        // Affichez les produits correspondant à la page actuelle
        var productItems = document.getElementsByClassName('product-item');
        for (var j = 0; j < productItems.length; j++) {
          var productItem = productItems[j];
          var page = parseInt(productItem.getAttribute('data-page'));
          if (page === currentPage) {
            productItem.style.display = 'block';
          } else {
            productItem.style.display = 'none';
          }
        }
      }

      // Initialisation de la pagination
      updatePagination();

      window.onload = function() {
      // Vérifier si l'utilisateur est connecté
        if (localStorage.getItem('loggedIn') === 'true') {
          // Si l'utilisateur est connecté, afficher le bouton de déconnexion
          let logoutButton = document.createElement('button');
          logoutButton.textContent = 'Déconnexion';
          logoutButton.onclick = handleLogout;
          document.body.appendChild(logoutButton);
        }
      }

      function handleLogout() {
        // Supprimer l'état de connexion du localStorage
        localStorage.removeItem('loggedIn', 'false');
        // Rediriger l'utilisateur vers la page de connexion
      window.location.href = "account.html";
      }

      // Récupérer les éléments du DOM nécessaires
      const sortSelect = document.getElementById('sort-select');
      const productsContainer = document.getElementById('products-container');
      const productItems = Array.from(productsContainer.querySelectorAll('.product-item'));

      // Fonction pour simuler l'augmentation de la popularité
      function simulatePopularityIncrease(product) {
        const currentPopularity = parseInt(product.dataset.popularity);
        product.dataset.popularity = currentPopularity + 1;
      }

      // Fonction pour diviser les produits en groupes de 4
      function createProductRows(items) {
        const rowDiv = document.createElement('div');
        rowDiv.classList.add('row');
        rowDiv.classList.add('row-products');
        items.forEach((item) => {
          rowDiv.appendChild(item);
        });
        return [rowDiv];
      }

      // Fonction pour mettre à jour l'affichage des produits
      function updateProductDisplay(items) {
        // Supprimer les produits existants
        while (productsContainer.firstChild) {
          productsContainer.removeChild(productsContainer.firstChild);
        }
        // Créer les lignes et afficher les produits
        const rows = createProductRows(items);
        rows.forEach((row) => {
          productsContainer.appendChild(row);
        });
      }  


      // Ajouter un écouteur d'événement sur chaque produit pour augmenter la popularité lors d'un clic (à adapter selon votre utilisation réelle)
      productItems.forEach((item) => {
        item.addEventListener('click', () => {
          simulatePopularityIncrease(item);
        });
      });

      // Ajouter un écouteur d'événement sur le "select"
      sortSelect.addEventListener('change', () => {
        const selectedValue = sortSelect.value;
        let sortedItems;

        // Effectuer le tri en fonction de l'option sélectionnée
        switch (selectedValue) {
          case 'price':
            sortedItems = productItems.slice().sort((a, b) => {
              const priceA = parseInt(a.querySelector('p').innerText);
              const priceB = parseInt(b.querySelector('p').innerText);
              return priceA - priceB;
            });
            break;
          case 'popularity':
            sortedItems = productItems.slice().sort((a, b) => {
              const popularityA = parseInt(a.dataset.popularity);
              const popularityB = parseInt(b.dataset.popularity);
              return popularityB - popularityA; // Tri décroissant par popularité
            });
            break;
          case 'rating':
            sortedItems = productItems.slice().sort((a, b) => {
              const ratingA = a.querySelectorAll('.fa-star').length;
              const ratingB = b.querySelectorAll('.fa-star').length;
              return ratingB - ratingA; // Tri décroissant par notation
            });
            break;
          default:
          // Tri par défaut : Ne rien faire, conserver l'ordre d'origine
          sortedItems = productItems;
        }

        // Vider le conteneur de produits existant
        while (productsContainer.firstChild) {
          productsContainer.removeChild(productsContainer.firstChild);
        }

        // Réinsérer les éléments triés dans le bon ordre
        sortedItems.forEach((item) => {
          productsContainer.appendChild(item);
        });
      });


    </script>
  </body>
</html>
