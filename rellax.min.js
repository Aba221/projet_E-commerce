
    function addToCart(productName, price) {  
      let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

      const existingProduct = cartItems.find(item => item.name === productName); 

      if (existingProduct) {
        existingProduct.quantity ++;
      } else {
      const product = {
        name: productName,
        price: price,
        quantity: 1
      };
      
      cartItems.push(product);
      }
      localStorage.setItem('cartItems', JSON.stringify(cartItems));
      updateCartDisplay();
       
    }

    function handleLoginSubmit() {  
      const usernameInput = document.getElementById('username');
      const passwordInput = document.getElementById('password');

      // Exemple simple : vérification basée sur des valeurs prédéfinie
      if (usernameInput.value === 'john' && passwordInput.value === 'password') {
        loggedIn = true;
        closeLoginModal();
        updateLoginStatus(); // Met à jour l'interface utilisateur pour refléter le nouveau statut de connexion
        checkout(); // Continuer avec la validation de la commande
        console.log("Utilisateur connecté");
        // Sauvegarder le statut de connexion dans localStorage
        localStorage.setItem('loggedIn', JSON.stringify(loggedIn));
      } else {
        console.log("Veuillez vous connecter pour afficher votre panier.");
      }
    }

    function updateQuantity(productName, quantity) {
      let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
      const product = cartItems.find(item => item.name === productName);
      product.quantity = parseInt(quantity, 10);
      localStorage.setItem('cartItems', JSON.stringify(cartItems));
      updateCartDisplay();
      // Sauvegarder les éléments du panier dans localStorage
      
    }
    function updateCartDisplay() {
      // Récupère le conteneur du panier dans le DOM
      const cartContainer = document.getElementById('cart');
  
      // Récupère les articles du panier à partir du localStorage
      const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
  
      // Crée une nouvelle liste d'articles du panier
      const cartHTML = cartItems.map(item => {
          return `<li>${item.name} - ${item.price} - ${item.quantity}</li>`;
      }).join('');
  
      // Met à jour le conteneur du panier avec les nouveaux articles
      cartContainer.innerHTML = cartHTML;
  }
    
    function removeItem(productName) {
      let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
      cartItems = cartItems.filter(item => item.name !== productName);
      localStorage.setItem('cartItems', JSON.stringify(cartItems));
      updateCartDisplay();
      
    }
    
    function handleLogout() {
      loggedIn = false; // Réinitialise le statut de connexion
      updateLoginStatus(); // Met à jour l'interface utilisateur pour refléter le nouveau statut de connexion
      console.log("Utilisateur déconnecté");
      // Nettoyer localStorage
      localStorage.clear();
    }

    